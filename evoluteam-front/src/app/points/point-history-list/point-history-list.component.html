<h2>Point History</h2>

<form [formGroup]="addForm" (ngSubmit)="onSubmit()">
  <label for="userId">User</label>
  <select id="userId" formControlName="userId">
    <option value="" disabled>Select user</option>
    <option *ngFor="let user of users" [value]="user.id">{{ user.name }}</option>
  </select>

  <label for="points">Points</label>
  <input type="number" id="points" formControlName="points" min="1" />

  <label for="reason">Reason</label>
  <input type="text" id="reason" formControlName="reason" />

  <button type="submit" [disabled]="addForm.invalid">Add</button>
</form>

<hr />

<table>
  <thead>
    <tr>
      <th>User</th>
      <th>Points</th>
      <th>Reason</th>
      <th>Date</th>
    </tr>
  </thead>
  <tbody>
    <tr *ngFor="let ph of pointHistories">
      <td>{{ getUserName(ph.user?.id) }}</td>
      <td>{{ ph.points }}</td>
      <td>{{ ph.reason }}</td>
      <td>{{ ph.date | date: 'short' }}</td>
    </tr>
  </tbody>
</table>
